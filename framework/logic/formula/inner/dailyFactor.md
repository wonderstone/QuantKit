### 数据库基本格式文档

指标数据以sqlite的数据库形式存储，文件名以合约名称+.db，例如浦发银行: 600000.XSHG.CS.db

#### 索引表结构

索引表用来记录每个数据字段所在的数据表。

- 表名: `t_index`
- 列:
  - `id`: 主键，唯一标识（例如：整型或UUID）
  - `data_field`: 数据字段的名称（例如：字符串）
  - `table_name`: 包含该数据字段的表名（例如：字符串）
  - type: int, float, string

#### 数据表结构

数据表用来存储各种合约的数据。

- 表名: 根据每次用户取用进行分割（例如：`t_data_1`，`t_data_2`）
- 列:
  - `id`: 主键，唯一标识（例如：整型或UUID）
  - `date`: 时间戳（例如：日期时间类型）
  - 动态数据列: 依照合约的不同可能有不同的数据列（例如：浮点数、整数、字符串等）

#### 数据供数端操作指南

1. **更新索引表：**
   - 在向数据表中添加新的数据字段时，确保同时更新索引表。
   - 为每个新字段添加一条记录，包含字段名称和对应的数据表名。

2. **插入数据到数据表：**
   - 根据合约和数据确定要插入数据的文件表名。
   - 插入数据时，确保包含所有必要的列，特别是`date`。
   - 如果表中存在动态列，请确保这些列的数据类型与索引表中记录的一致。

3. **查询数据：**
   - 若需要查询特定字段的数据，首先查询索引表以获取包含该字段的表名。
   - 然后在对应的数据表中查询需要的数据。

4. **维护数据表：**
   - 定期审查数据表，以确保数据准确无误。
   - 对于过时或不再需要的数据表，应进行归档或删除操作。

#### 示例：数据表的创建和索引表的更新

```sql
-- 创建一个新的数据表
CREATE TABLE t_data1 (
    id SERIAL PRIMARY KEY,
    date DATE NOT NULL,
    price DECIMAL(10, 2),
    volume BIGINT
    -- 其他动态列
);

-- 更新索引表
INSERT INTO t_index (data_field, table_name) VALUES
('price', 't_data1'),
('volume', 't_data1');
-- 添加更多字段和表的对应关系
```

请按照上述格式文档进行数据库操作，确保数据的一致性和完整性。在供数端操作数据库时，应严格遵守索引表和数据表的更新规则，以便数据消费端能够正确查询到所需数据。